<div>
  <table class="min-w-full">
    <thead>
      <tr>
        <th
          *ngFor="let header of headers"
          class="px-6 py-3 border-b-2 border-gray-300 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
        >
          {{ header }}
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let wine of wines$ | async" [ngClass]="getRowClassName(wine)">
        <td class="px-6 py-4 whitespace-nowrap">{{ wine.ranking }}</td>
        <td class="px-6 py-4 whitespace-nowrap">{{ wine.name }}</td>
        <td class="px-6 py-4 whitespace-nowrap">{{ wine.vintage }}</td>
        <td class="px-6 py-4 whitespace-nowrap">
          ${{ wine.total_revenue.toFixed(2) }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap">{{ wine.total_bottles }}</td>
        <td class="px-6 py-4 whitespace-nowrap">{{ wine.total_orders }}</td>
      </tr>
    </tbody>
  </table>
  <div class="mt-4 flex justify-between">
    <button
      (click)="previousPage()"
      [disabled]="(currentPage$ | async) === 1"
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"
    >
      Previous
    </button>
    <span> Page {{ currentPage$ | async }} of {{ totalPages$ | async }} </span>
    <button
      (click)="nextPage()"
      [disabled]="isLastPage$ | async"
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"
    >
      Next
    </button>
  </div>
</div>
